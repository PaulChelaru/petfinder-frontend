/**
 * Romanian cities and counties validation data
 */

// Romanian counties (județe)
export const romanianCounties = [
  'Alba', 'Arad', 'Argeș', 'Bacău', 'Bihor', 'Bistrița-Năsăud', 'Botoșani', 'Brașov',
  'Brăila', 'București', 'Buzău', 'Caraș-Severin', 'Călărași', 'Cluj', 'Constanța',
  'Covasna', 'Dâmbovița', 'Dolj', 'Galați', 'Giurgiu', 'Gorj', 'Harghita', 'Hunedoara',
  'Ialomița', 'Iași', 'Ilfov', 'Maramureș', 'Mehedinți', 'Mureș', 'Neamț', 'Olt',
  'Prahova', 'Satu Mare', 'Sălaj', 'Sibiu', 'Suceava', 'Teleorman', 'Timiș', 'Tulcea',
  'Vaslui', 'Vâlcea', 'Vrancea'
]

// Major Romanian cities mapped to their counties
export const romanianCities = {
  // Alba County
  'Alba Iulia': 'Alba',
  'Blaj': 'Alba',
  'Sebeș': 'Alba',
  'Aiud': 'Alba',
  
  // Arad County
  'Arad': 'Arad',
  'Ineu': 'Arad',
  'Pecica': 'Arad',
  'Chișineu-Criș': 'Arad',
  
  // Argeș County
  'Pitești': 'Argeș',
  'Curtea de Argeș': 'Argeș',
  'Câmpulung': 'Argeș',
  'Mioveni': 'Argeș',
  'Costești': 'Argeș',
  
  // Bacău County
  'Bacău': 'Bacău',
  'Onești': 'Bacău',
  'Moinești': 'Bacău',
  'Comănești': 'Bacău',
  
  // Bihor County
  'Oradea': 'Bihor',
  'Salonta': 'Bihor',
  'Marghita': 'Bihor',
  'Beiuș': 'Bihor',
  
  // Bistrița-Năsăud County
  'Bistrița': 'Bistrița-Năsăud',
  'Năsăud': 'Bistrița-Năsăud',
  'Beclean': 'Bistrița-Năsăud',
  
  // Botoșani County
  'Botoșani': 'Botoșani',
  'Dorohoi': 'Botoșani',
  'Darabani': 'Botoșani',
  'Flămânzi': 'Botoșani',
  
  // Brașov County
  'Brașov': 'Brașov',
  'Codlea': 'Brașov',
  'Săcele': 'Brașov',
  'Făgăraș': 'Brașov',
  'Râșnov': 'Brașov',
  'Zărnești': 'Brașov',
  
  // Brăila County
  'Brăila': 'Brăila',
  'Ianca': 'Brăila',
  'Însurăței': 'Brăila',
  
  // București
  'București': 'București',
  'Sectorul 1': 'București',
  'Sectorul 2': 'București',
  'Sectorul 3': 'București',
  'Sectorul 4': 'București',
  'Sectorul 5': 'București',
  'Sectorul 6': 'București',
  
  // Buzău County
  'Buzău': 'Buzău',
  'Râmnicu Sărat': 'Buzău',
  'Nehoiu': 'Buzău',
  
  // Caraș-Severin County
  'Reșița': 'Caraș-Severin',
  'Caransebeș': 'Caraș-Severin',
  'Lugoj': 'Caraș-Severin',
  'Oțelu Roșu': 'Caraș-Severin',
  
  // Călărași County
  'Călărași': 'Călărași',
  'Oltenița': 'Călărași',
  'Lehliu Gară': 'Călărași',
  
  // Cluj County
  'Cluj-Napoca': 'Cluj',
  'Turda': 'Cluj',
  'Dej': 'Cluj',
  'Câmpia Turzii': 'Cluj',
  'Gherla': 'Cluj',
  
  // Constanța County
  'Constanța': 'Constanța',
  'Medgidia': 'Constanța',
  'Mangalia': 'Constanța',
  'Năvodari': 'Constanța',
  'Cernavodă': 'Constanța',
  
  // Covasna County
  'Sfântu Gheorghe': 'Covasna',
  'Târgu Secuiesc': 'Covasna',
  'Covasna': 'Covasna',
  
  // Dâmbovița County
  'Târgoviște': 'Dâmbovița',
  'Moreni': 'Dâmbovița',
  'Pucioasa': 'Dâmbovița',
  'Găești': 'Dâmbovița',
  
  // Dolj County
  'Craiova': 'Dolj',
  'Băilești': 'Dolj',
  'Calafat': 'Dolj',
  'Filiași': 'Dolj',
  
  // Galați County
  'Galați': 'Galați',
  'Tecuci': 'Galați',
  'Târgu Bujor': 'Galați',
  
  // Giurgiu County
  'Giurgiu': 'Giurgiu',
  'Bolintin-Vale': 'Giurgiu',
  'Mihăilești': 'Giurgiu',
  
  // Gorj County
  'Târgu Jiu': 'Gorj',
  'Motru': 'Gorj',
  'Rovinari': 'Gorj',
  'Novaci': 'Gorj',
  
  // Harghita County
  'Miercurea Ciuc': 'Harghita',
  'Odorheiu Secuiesc': 'Harghita',
  'Gheorgheni': 'Harghita',
  'Toplița': 'Harghita',
  
  // Hunedoara County
  'Deva': 'Hunedoara',
  'Hunedoara': 'Hunedoara',
  'Petroșani': 'Hunedoara',
  'Lupeni': 'Hunedoara',
  'Vulcan': 'Hunedoara',
  'Petrila': 'Hunedoara',
  'Orăștie': 'Hunedoara',
  'Brad': 'Hunedoara',
  
  // Ialomița County
  'Slobozia': 'Ialomița',
  'Fetești': 'Ialomița',
  'Urziceni': 'Ialomița',
  'Țăndărei': 'Ialomița',
  
  // Iași County
  'Iași': 'Iași',
  'Pașcani': 'Iași',
  'Hârlău': 'Iași',
  'Târgu Frumos': 'Iași',
  
  // Ilfov County
  'Buftea': 'Ilfov',
  'Voluntari': 'Ilfov',
  'Otopeni': 'Ilfov',
  'Pantelimon': 'Ilfov',
  'Popești-Leordeni': 'Ilfov',
  'Chitila': 'Ilfov',
  'Măgurele': 'Ilfov',
  'Bragadiru': 'Ilfov',
  
  // Maramureș County
  'Baia Mare': 'Maramureș',
  'Sighetu Marmației': 'Maramureș',
  'Borșa': 'Maramureș',
  'Târgu Lăpuș': 'Maramureș',
  'Săliștea de Sus': 'Maramureș',
  
  // Mehedinți County
  'Drobeta-Turnu Severin': 'Mehedinți',
  'Orșova': 'Mehedinți',
  'Strehaia': 'Mehedinți',
  
  // Mureș County
  'Târgu Mureș': 'Mureș',
  'Reghin': 'Mureș',
  'Sighișoara': 'Mureș',
  'Târnăveni': 'Mureș',
  'Luduș': 'Mureș',
  
  // Neamț County
  'Piatra Neamț': 'Neamț',
  'Roman': 'Neamț',
  'Târgu Neamț': 'Neamț',
  'Bicaz': 'Neamț',
  
  // Olt County
  'Slatina': 'Olt',
  'Caracal': 'Olt',
  'Balș': 'Olt',
  'Corabia': 'Olt',
  
  // Prahova County
  'Ploiești': 'Prahova',
  'Câmpina': 'Prahova',
  'Breaza': 'Prahova',
  'Mizil': 'Prahova',
  'Băicoi': 'Prahova',
  'Vălenii de Munte': 'Prahova',
  'Sinaia': 'Prahova',
  'Bușteni': 'Prahova',
  'Azuga': 'Prahova',
  
  // Satu Mare County
  'Satu Mare': 'Satu Mare',
  'Carei': 'Satu Mare',
  'Negrești-Oaș': 'Satu Mare',
  'Tășnad': 'Satu Mare',
  
  // Sălaj County
  'Zalău': 'Sălaj',
  'Șimleu Silvaniei': 'Sălaj',
  'Jibou': 'Sălaj',
  
  // Sibiu County
  'Sibiu': 'Sibiu',
  'Mediaș': 'Sibiu',
  'Cisnădie': 'Sibiu',
  'Dumbrăveni': 'Sibiu',
  'Copșa Mică': 'Sibiu',
  'Tălmaciu': 'Sibiu',
  
  // Suceava County
  'Suceava': 'Suceava',
  'Botoșani': 'Botoșani', // Actually Botoșani county, but often confused
  'Fălticeni': 'Suceava',
  'Rădăuți': 'Suceava',
  'Câmpulung Moldovenesc': 'Suceava',
  'Vatra Dornei': 'Suceava',
  'Gura Humorului': 'Suceava',
  'Dorohoi': 'Botoșani',
  
  // Teleorman County
  'Alexandria': 'Teleorman',
  'Rosiori de Vede': 'Teleorman',
  'Turnu Măgurele': 'Teleorman',
  'Zimnicea': 'Teleorman',
  
  // Timiș County
  'Timișoara': 'Timiș',
  'Lugoj': 'Timiș',
  'Sânnicolau Mare': 'Timiș',
  'Jimbolia': 'Timiș',
  'Deta': 'Timiș',
  'Făget': 'Timiș',
  
  // Tulcea County
  'Tulcea': 'Tulcea',
  'Măcin': 'Tulcea',
  'Isaccea': 'Tulcea',
  'Babadag': 'Tulcea',
  
  // Vaslui County
  'Vaslui': 'Vaslui',
  'Bârlad': 'Vaslui',
  'Huși': 'Vaslui',
  'Negrești': 'Vaslui',
  
  // Vâlcea County
  'Râmnicu Vâlcea': 'Vâlcea',
  'Drăgășani': 'Vâlcea',
  'Băbeni': 'Vâlcea',
  'Brezoi': 'Vâlcea',
  'Călimănești': 'Vâlcea',
  
  // Vrancea County
  'Focșani': 'Vrancea',
  'Adjud': 'Vrancea',
  'Mărășești': 'Vrancea',
  'Odobești': 'Vrancea'
}

/**
 * Validate if a city exists in Romania
 * @param {string} city - City name to validate
 * @returns {boolean} - True if city exists
 */
export const isValidRomanianCity = (city) => {
  if (!city || typeof city !== 'string') return false
  
  const normalizedCity = city.trim()
  
  // Check exact match first
  if (romanianCities[normalizedCity]) return true
  
  // Check case-insensitive match
  const cityKeys = Object.keys(romanianCities)
  return cityKeys.some(key => 
    key.toLowerCase() === normalizedCity.toLowerCase()
  )
}

/**
 * Validate if a county exists in Romania
 * @param {string} county - County name to validate
 * @returns {boolean} - True if county exists
 */
export const isValidRomanianCounty = (county) => {
  if (!county || typeof county !== 'string') return false
  
  const normalizedCounty = county.trim()
  
  return romanianCounties.some(validCounty => 
    validCounty.toLowerCase() === normalizedCounty.toLowerCase()
  )
}

/**
 * Get the correct county for a given city
 * @param {string} city - City name
 * @returns {string|null} - County name or null if city not found
 */
export const getCountyForCity = (city) => {
  if (!city || typeof city !== 'string') return null
  
  const normalizedCity = city.trim()
  
  // Check exact match first
  if (romanianCities[normalizedCity]) {
    return romanianCities[normalizedCity]
  }
  
  // Check case-insensitive match
  const cityEntry = Object.entries(romanianCities).find(([cityName]) => 
    cityName.toLowerCase() === normalizedCity.toLowerCase()
  )
  
  return cityEntry ? cityEntry[1] : null
}

/**
 * Validate city-county pair
 * @param {string} city - City name
 * @param {string} county - County name
 * @returns {Object} - Validation result with suggestions
 */
export const validateCityCountyPair = (city, county) => {
  const result = {
    isValid: false,
    cityExists: false,
    countyExists: false,
    suggestedCounty: null,
    message: ''
  }
  
  if (!city || !county) {
    result.message = 'Both city and county are required'
    return result
  }
  
  result.cityExists = isValidRomanianCity(city)
  result.countyExists = isValidRomanianCounty(county)
  
  if (result.cityExists && result.countyExists) {
    const correctCounty = getCountyForCity(city)
    if (correctCounty && correctCounty.toLowerCase() === county.toLowerCase()) {
      result.isValid = true
      result.message = 'Valid city-county pair'
    } else {
      result.suggestedCounty = correctCounty
      result.message = `${city} is located in ${correctCounty} county, not ${county}`
    }
  } else if (!result.cityExists && !result.countyExists) {
    result.message = 'Neither city nor county are recognized Romanian locations'
  } else if (!result.cityExists) {
    result.message = `${city} is not a recognized Romanian city`
  } else {
    result.message = `${county} is not a recognized Romanian county`
  }
  
  return result
}
